# PRドキュメント保持方針

## 概要

このドキュメントは、終了した（マージ済み/クローズ済み）PRドキュメントを保持するかどうかの方針を定義します。

## 保持するメリット

### 1. **意思決定の記録**
- 過去の実装判断の理由を追跡可能
- アーキテクチャ決定の背景を理解できる
- 将来の類似機能実装時の参考になる

### 2. **レビュープロセスの学習**
- レビューコメントと対応のパターンを学習
- チームのコード品質基準の理解
- 新人オンボーディングの教材

### 3. **問題追跡**
- バグや問題の原因を過去のPRから追跡
- 実装時の想定と実際の動作の差異を確認
- リファクタリング時の参考

### 4. **プロジェクトの進化記録**
- プロジェクトの成長過程を記録
- 技術スタックの変更履歴
- 開発プロセスの改善履歴

## 削除するメリット

### 1. **リポジトリサイズの削減**
- 大量のPRドキュメントがリポジトリを肥大化
- クローン時間の短縮

### 2. **メンテナンスコストの削減**
- 古いドキュメントの更新不要
- 情報の陳腐化による混乱の回避

### 3. **情報の重複回避**
- GitHubのPR履歴に既に情報が存在
- 重複情報の管理コスト

## 推奨方針

### オプションA: **重要PRのみ保持**（推奨）

**保持基準**:
- ✅ マイルストーンPR（MVP、リリースなど）
- ✅ アーキテクチャ決定が含まれるPR
- ✅ 重要な技術的決定が含まれるPR
- ✅ レビュープロセスで学びが多いPR
- ❌ 通常の機能追加PR（GitHub履歴で十分）

**実装方法**:
```
docs/prs/
├── active/              # 進行中のPR
│   └── [NNN-feature]/
├── archived/            # 重要PRのみ保持
│   └── [NNN-feature]/
└── README.md
```

### オプションB: **すべて保持（簡潔版）**

**方針**:
- すべてのPRドキュメントを保持
- ただし、詳細なレビューコメントは削除し、サマリーのみ保持
- GitHubのPR履歴で詳細を参照

**実装方法**:
- `review-XXX.md` は最終レビューのみ保持
- `inline-comments.md` は削除（GitHubに存在）
- `description.md` は簡潔なサマリーに要約

### オプションC: **期間ベースのアーカイブ**

**方針**:
- PR完了後6ヶ月〜1年は保持
- その後、重要PRのみアーカイブに移動
- その他は削除

## 現在のプロジェクトへの推奨

### **オプションA（重要PRのみ保持）を推奨**

**理由**:
1. **GitHub履歴が存在**: すべてのPR情報はGitHubに残っている
2. **リポジトリの整理**: 重要な情報のみを保持し、リポジトリをクリーンに保つ
3. **実用性**: 実際に参照するのは重要なPRのみ

**保持すべきPR**:
- ✅ `001-phase1-phase2-setup/`: プロジェクト基盤構築
- ✅ `002-user-story-1-book-registration/`: MVPの核心機能
- ⚠️ `003-user-story-2-location-management/`: 重要だが詳細レビューはGitHubで参照可能
- ⚠️ `004-user-story-3-book-search/`: 重要だが詳細レビューはGitHubで参照可能
- ❌ `005-phase6-polish/`: 通常の改善PR（GitHub履歴で十分）

**実装手順**:

1. **重要PRの選定**
   ```bash
   # 保持するPRを決定
   # 001, 002 は保持
   # 003, 004, 005 は削除または簡潔版に
   ```

2. **アーカイブ構造の作成**
   ```
   docs/prs/
   ├── archived/
   │   ├── 001-phase1-phase2-setup/
   │   └── 002-user-story-1-book-registration/
   └── README.md
   ```

3. **簡潔版の作成（オプション）**
   - 削除するPRの `description.md` のみ保持
   - レビューファイルは削除（GitHubで参照可能）

## 削除前の確認事項

PRドキュメントを削除する前に確認：

- [ ] GitHubのPRがクローズ/マージ済み
- [ ] PRの情報がGitHub履歴で参照可能
- [ ] 重要な意思決定が他のドキュメント（`specs/`, `docs/`）に記録済み
- [ ] チームメンバーが削除に同意

## 結論

**採用方針**: 重要PRのエッセンスを汎用的なガイドラインとして抽出

- 具体的なPRドキュメントは削除
- 重要な知見を `../DEVELOPMENT_GUIDELINES.md` にまとめ
- プロジェクトの進化に伴う汎用的なベストプラクティスとして活用

## 実装済み

✅ 重要PR（001, 002）からエッセンスを抽出
✅ `docs/DEVELOPMENT_GUIDELINES.md` に汎用的なガイドラインとしてまとめ
✅ 具体的なPRドキュメントは削除（GitHub履歴で参照可能）

